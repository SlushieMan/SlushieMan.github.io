
<!DOCTYPE html>
<html>
    <head>
        <meta name="theme-color" content="#00FFFF">
        <meta property="og:title" content="Main Page" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://magicquest.github.io/index.html" />
        <meta property="og:image" content="https://magicquest.github.io/web.gif" />
        <meta property="og:description" content="my homepage for my html projects" />
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Main Page</title>
        <meta name="twitter:card" content="summary_large_image">
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel='stylesheet' type='text/css' media='screen' href='index.css'>
        <link rel="stylesheet" type="text/css" media="screen" href="font.css">
        <script src='oof.js'></script>
    </head>
    <body>
        <img style="display:none;" id="snowball" src="https://static.wikia.nocookie.net/clubpenguin/images/0/04/Snowball.png"></img>
        <canvas id="canvas" style="position: fixed;top:0px;z-index: -1;">

        </canvas>
        <h1>
            <center>MagicQuest</center>
        </h1>
        <h2 id="stormtext" style="display:none;opacity:0;text-align: center;font-size: 75px;color:rgb(226, 226, 226);text-shadow: rgb(177, 177, 177) 3px 3px;">
            Snow Storm!
        </h2>
        <!--table>
            <tbody id="sites">
                <tr>
                    <th>
                        <box>
                            <a href="awesome_card.html">
                                <h3>
                                Glitchy cards
                                </h3>
                            </a>
                        </box>
                    </th>
                    <th>
                        <box>
                            <a href="breakapart">
                                <h3>
                                    Breakapart
                                </h3>
                            </a>
                        </box>
                    </th>
                    <th>
                        <box>
                            <a href="canvas.html">
                                <h3>
                                    a test from when i was just learning about the canvas element
                                </h3>
                            </a>
                        </box>
                    </th>
                </tr>
            </tbody>
        </table-->
        <ul>
            <li>
                <h2>Canvas Stuff</h2>
                <ul>
                    <li>
                        <a href="awesome_card.html">
                            <h3>
                            Glitchy cards
                            </h3>
                        </a>
                    </li>
                    <li>
                        <a href="breakapart">
                            <h3>
                                Breakapart
                            </h3>
                        </a>
                    </li>
                    <li>
                        <a href="canvas.html">
                            <h3>
                                a test from when i was just learning about the canvas element
                            </h3>
                        </a>
                    </li>
                    <li>
                        <h2>
                            Box2D Stuff
                        </h2>
                        <ul>
                            <li>
                                <a href="box2d/random.html">
                                    <h3>
                                        random first test
                                    </h3>
                                </a>
                            </li>
                            <!--li>
                                <a href="box2d/crab.html">
                                    <h3>
                                        epic crab game
                                    </h3>
                                </a>
                            </li-->
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <h2>Other Projects</h2>
                <ul>
                    
                    <!--li>
                        <a href="gravity">
                            <h3>
                                Gravity sim (most of it not made by me except gravity part)
                            </h3>
                        </a>

                    </li>
                    <li>
                        <a href="gol">
                            <h3>
                                Game of life (most of it also not made by me except a few more options)
                            </h3>
                        </a>

                    </li-->
                    <li>
                        <a href="ca/cells.html">
                            <h3>
                                Conway's game of life
                            </h3>
                        </a>
                    </li>
                    <li>
                        <a href="prankmaker.htm">
                            <h3>
                                a page i made for a url "shortener"
                            </h3>
                        </a>
                    </li>
                    
                    <li>
                        <h2>
                            Games
                        </h2>
                        <ul>
                            <!--li>
                                <a href="typing.html">
                                    <h3>
                                    Hiragana typing game
                                    </h3>
                                </a>
                            </li-->
                            <li>
                                <a href="games/egggg.html">
                                    <h3>
                                        Egg Clicker!
                                    </h3>
                                </a>
                            </li>
                            <li>
                                <a href="https://bit.ly/2Aq5osu">
                                    <h3>
                                        Half Life 3 in Unity webgl
                                    </h3>
                                </a>
                            </li>
                            <!--li>
                                <a href="ca/brutes.html">
                                    <h3>
                                        epic cellular automata test with terra.js
                                    </h3>
                                </a>
                            </li-->
                            <li>
                                <a href="games/crush/">
                                    <h3>
                                        candy crush but with my friend's faces
                                    </h3>
                                </a>
                            </li>
                            <li>
                                <h2>
                                    Multiplayer!
                                </h2>
                                <ul>
                                    <li>
                                        <a href="games/mt1.html">
                                            <h3>
                                                Multiplayer Test 1 (basically an agar.io test)
                                            </h3>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="games/skribbl.html">
                                            <h3>
                                                Discount Skribbl.io
                                            </h3>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="games/botgame.html">
                                            <h3>
                                                A browser game based on my discord bot
                                            </h3>
                                        </a>
                                    </li>
                                    <!--li>
                                        <a href="games/agar.html">
                                            <h3>
                                                Agar.io recreation (not started yet see multiplayer test 1)
                                            </h3>
                                        </a>
                                    </li-->
                                    <!--li>
                                        <a href = "games/multiplayer/">
                                    </li-->
                                </ul>
                            </li>
                            <!--li>
                                <a href="box2d/crab.html">
                                    <h3>
                                        epic crab game
                                    </h3>
                                </a>
                            </li-->
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <script>
            if(new Date().getMonth() == 11) {
                var canvas = document.getElementById("canvas");
                var img = document.getElementById("snowball");
                var text = document.getElementById("stormtext");
                var context = canvas.getContext("2d");
                var snowArray = [];
                var snowStorm = {
                    count:0,
                    duration:random(500,1500),
                    stopping:false,
                    nextStorm:random(300,6000),
                };
                var textRot = 0;
                var rotValue = 2;
                text.style.display = "block";
                canvas.width = innerWidth
                canvas.height = innerHeight
                addEventListener("resize",function(event) {
                    canvas.width = innerWidth
                    canvas.height = innerHeight
                })
                /*var started = false;
                var mouse = {
                    x:0,
                    y:0
                }
                var lastMouse = {
                    x:0,
                    y:0
                }
                addEventListener("mousemove",function(event) {
                    
                    mouse.x = event.x;
                    mouse.y = event.y - 25;
                    if(!started) {
                        lastMouse.x = mouse.x;
                        lastMouse.y = mouse.y;
                    }
                    context.strokeStyle = "rgba(255,255,255,100)";
                    context.beginPath();
                    //console.log("mouse: " + mouse.x + " last mouse: " + lastMouse.x);
                    context.moveTo(lastMouse.x,lastMouse.y);
                    context.lineTo(mouse.x,mouse.y);
                    context.stroke();
                    lastMouse.x = mouse.x;
                    lastMouse.y = mouse.y;
                    //started = true;
                    
                });*/
                function snowBall(newX,newY) {
                    if(!newX) {
                        this.x = random(10,canvas.width - 10);
                        this.y = -50;
                        this.velocity = {
                            x: random(-2,2),
                            y: random(-2,2),
                        }
                    }else {
                        this.x = newX;
                        this.y = newY;
                        this.velocity = {
                            x: random(-2,2),
                            y: random(0,-10),
                        }
                    }
                    this.size = random(20,30);
                    this.grav = this.size/20;
                    this.bounced = false;
                    
                    this.update = function() {
                        this.velocity.y+=this.grav;
                        this.x+=this.velocity.x;
                        this.y+=this.velocity.y;
                        context.drawImage(img,this.x,this.y,this.size,this.size);
                        if(this.y >= canvas.height - this.size && !this.bounced) {
                            if(random(0,3) == 0) {
                                this.velocity.y *= -this.size/40;
                                new sound("sounds/snowball-impact.mp3").setVolume(.2).play();
                            }
                            this.bounced = true;
                        }
                        if(this.y > canvas.height + this.size) {
                            removeAt(snowArray,snowArray.indexOf(this));
                            delete this;
                        }
                    }
                }
                function animate() {
                    context.clearRect(0,0,canvas.width,canvas.height)
                    /*if(random(0,1) == 0) {
                        snowArray.push(new snowBall());
                    }*/
                    //console.log(`{ snowStorm: ${snowStorm.count}, chance: ${3000/snowStorm.count}}`);
                    if(random(0,2000/snowStorm.count) == 0 || random(0,10000) == 0 || snowStorm.count >= 2000) {
                        snowArray.push(new snowBall());
                        if(snowStorm.count >= 2000) {
                            snowStorm.stopping = true;
                        }
                    }
                    if(snowStorm.count >= 2000) {
                        text.style.opacity = 1;
                    }else {
                        text.style.opacity = 0;
                    }
                    if(snowStorm.stopping) {
                        snowStorm.duration--;
                        if(snowStorm.duration > 0) {
                            snowStorm.stopping = false;
                        }
                    }
                    snowArray.forEach((ball)=> {
                        ball.update();
                    });
                    //context.fillStyle = "rgba(0,0,0,0.01)";
                    if(snowStorm.nextStorm <= 0) {
                        snowStorm.count += snowStorm.stopping ? -2 : 1;
                    }else {
                        snowStorm.nextStorm--;
                    }
                    
                    if(snowStorm.count <= 0 && snowStorm.stopping) {
                        snowStorm.stopping = false;
                        snowStorm.duration = random(500,1500);
                        snowStorm.nextStorm = random(300,6000);
                    }
                    
                    textRot += rotValue;
                    //console.log(text.style);
                    //console.log(textRot);
                    if(textRot >= 55 && rotValue == 2) {
                        rotValue = -2;
                    }
                    if(textRot <= -55 && rotValue == -2) {
                        rotValue = 2;
                    }
                    text.style.transform = `rotate(${textRot}deg)`
                    requestAnimationFrame(animate);
                }
                requestAnimationFrame(animate);
                document.addEventListener("mousemove",function(event){
                    if(event.buttons == 1) {
                        snowArray.push(new snowBall(event.clientX,event.clientY));
                    }
                });
            }
        </script>
    </body>
</html>
